<%- 
  @notify_out = @provide_xfrs + @send_notify_additions
  @notify_in  = @masters + @allow_notify_additions
-%>
    "<%= @name %>" {
      <%- if @zonefile then -%>
        file "<%= @zone_subdir %>/<%= @zonefile %>";
      <%- else -%>
        file "<%= @zone_subdir %>/<%= @name %>";
      <%- end -%>
      notify-out slave_servers;
      xfr-out slave_servers;
      <%- if @notify_out.any? then -%>
        notify-out <%= @notify_out.join(', ') %>;
      <%- end -%>
      <%- if @notify_in.any? then -%>
        notify-in <%= @notify_in.join(', ') %>;
      <%- end -%>
      <%- if @masters.any? then -%>
        xfr-in <%= @masters.join(', ') %>;
      <%- end -%>
      <%- if @provide_xfrs.any? then -%>
        xfr-out <%= @provide_xfrs.join(', ') %>;
      <%- end -%>
    }
